---
import ThemeToggle from './ThemeToggle.astro';
---

<header id="header-nav" class="fixed top-0 left-0 w-full z-50 transition-all duration-500 py-6">
  <nav class="max-w-5xl mx-auto px-6">
    <div id="nav-container" class="flex justify-between items-center px-6 py-3 rounded-2xl transition-all duration-500 border border-transparent">
      
      <a href="/" 
        class="font-black italic text-xl tracking-tighter transition-all duration-500"
        style="color: var(--color-logo);">
        ENAWREM.
      </a>

      <div class="flex items-center gap-8">
        <div class="hidden md:flex gap-6 font-medium text-sm">
          <a href="/blog" class="hover:text-lavender transition-colors">Blog</a>
          <a href="/about" class="hover:text-lavender transition-colors">À propos</a>
        </div>
        <ThemeToggle />
      </div>

    </div>
  </nav>
</header>

<script is:inline>
  const header = document.getElementById('header-nav');
  const container = document.getElementById('nav-container');

  window.addEventListener('scroll', () => {
    if (window.scrollY > 20) {
      // Au scroll : on réduit la taille et on active l'effet de verre
      header.classList.remove('py-6');
      header.classList.add('py-3');
      container.classList.add('glass', 'shadow-xl');
    } else {
      // Au repos : on est transparent et plus large
      header.classList.remove('py-3');
      header.classList.add('py-6');
      container.classList.remove('glass', 'shadow-xl');
    }
  });
</script>